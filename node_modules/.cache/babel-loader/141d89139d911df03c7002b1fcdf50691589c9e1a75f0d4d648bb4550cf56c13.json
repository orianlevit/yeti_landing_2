{"ast":null,"code":"var _jsxFileName = \"/Users/orian/Documents/Development/yeti_landing/src/components/StripeCheckout.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, Pressable } from 'react-native';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { useFormContext } from '../context/FormContext';\nimport { sharedStyles } from '../styles/formStyles';\n\n// Replace with your actual Stripe publishable key\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe('your_publishable_key');\nconst StripeCheckout = () => {\n  _s();\n  const {\n    formData,\n    previousQuestion\n  } = useFormContext();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleCheckout = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Create a checkout session\n      const response = await fetch('/api/create-checkout-session', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          formData // Send all form data to create personalized session\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const {\n        sessionId\n      } = await response.json();\n\n      // Redirect to Stripe Checkout\n      const stripe = await stripePromise;\n      const {\n        error\n      } = await stripe.redirectToCheckout({\n        sessionId\n      });\n      if (error) {\n        throw error;\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(View, {\n    style: sharedStyles.container,\n    children: [/*#__PURE__*/_jsxDEV(View, {\n      style: sharedStyles.contentContainer,\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        style: sharedStyles.title,\n        children: [\"Almost there!\", '\\n', \"Time to make it official\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(View, {\n        style: styles.pricingCard,\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          style: styles.packageTitle,\n          children: \"AI Yeti Video Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          style: styles.price,\n          children: \"$9.99\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(View, {\n          style: styles.features,\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            style: styles.feature,\n            children: \"\\u2022 Personalized video message from the Yeti\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            style: styles.feature,\n            children: \"\\u2022 Your choice of Yeti personality\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            style: styles.feature,\n            children: \"\\u2022 Custom message delivery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            style: styles.feature,\n            children: \"\\u2022 Delivered within 24 hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Text, {\n        style: styles.errorText,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(View, {\n      style: sharedStyles.navigation,\n      children: [/*#__PURE__*/_jsxDEV(Pressable, {\n        style: sharedStyles.backButton,\n        onPress: previousQuestion,\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          style: sharedStyles.backButtonText,\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pressable, {\n        style: [sharedStyles.nextButton, loading && styles.loadingButton],\n        onPress: handleCheckout,\n        disabled: loading,\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          style: sharedStyles.nextButtonText,\n          children: loading ? 'Processing...' : 'Pay Now →'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(StripeCheckout, \"KrbCefqG5XYz7cNJNhEI+TuPkq4=\", false, function () {\n  return [useFormContext];\n});\n_c = StripeCheckout;\nconst styles = StyleSheet.create({\n  pricingCard: {\n    width: '100%',\n    padding: 32,\n    backgroundColor: 'white',\n    borderRadius: 16,\n    borderWidth: 2,\n    borderColor: '#3182CE',\n    alignItems: 'center',\n    marginTop: 20\n  },\n  packageTitle: {\n    fontSize: 24,\n    fontWeight: '600',\n    color: '#2D3748',\n    marginBottom: 16,\n    fontFamily: 'Cal Sans'\n  },\n  price: {\n    fontSize: 48,\n    fontWeight: '700',\n    color: '#3182CE',\n    marginBottom: 24,\n    fontFamily: 'Cal Sans'\n  },\n  features: {\n    width: '100%',\n    gap: 12\n  },\n  feature: {\n    fontSize: 18,\n    color: '#4A5568',\n    fontFamily: 'Cal Sans'\n  },\n  loadingButton: {\n    opacity: 0.7,\n    cursor: 'not-allowed'\n  },\n  errorText: {\n    color: '#E53E3E',\n    marginTop: 16,\n    fontSize: 16,\n    fontFamily: 'Cal Sans'\n  }\n});\nexport default StripeCheckout;\nvar _c;\n$RefreshReg$(_c, \"StripeCheckout\");","map":{"version":3,"names":["React","useEffect","useState","View","Text","StyleSheet","Pressable","loadStripe","useFormContext","sharedStyles","jsxDEV","_jsxDEV","stripePromise","StripeCheckout","_s","formData","previousQuestion","loading","setLoading","error","setError","handleCheckout","response","fetch","method","headers","body","JSON","stringify","ok","Error","sessionId","json","stripe","redirectToCheckout","err","message","style","container","children","contentContainer","title","fileName","_jsxFileName","lineNumber","columnNumber","styles","pricingCard","packageTitle","price","features","feature","errorText","navigation","backButton","onPress","backButtonText","nextButton","loadingButton","disabled","nextButtonText","_c","create","width","padding","backgroundColor","borderRadius","borderWidth","borderColor","alignItems","marginTop","fontSize","fontWeight","color","marginBottom","fontFamily","gap","opacity","cursor","$RefreshReg$"],"sources":["/Users/orian/Documents/Development/yeti_landing/src/components/StripeCheckout.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, Pressable } from 'react-native';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { useFormContext } from '../context/FormContext';\nimport { sharedStyles } from '../styles/formStyles';\n\n// Replace with your actual Stripe publishable key\nconst stripePromise = loadStripe('your_publishable_key');\n\nconst StripeCheckout = () => {\n  const { formData, previousQuestion } = useFormContext();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleCheckout = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Create a checkout session\n      const response = await fetch('/api/create-checkout-session', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          formData, // Send all form data to create personalized session\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const { sessionId } = await response.json();\n\n      // Redirect to Stripe Checkout\n      const stripe = await stripePromise;\n      const { error } = await stripe.redirectToCheckout({\n        sessionId,\n      });\n\n      if (error) {\n        throw error;\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <View style={sharedStyles.container}>\n      <View style={sharedStyles.contentContainer}>\n        <Text style={sharedStyles.title}>Almost there!{'\\n'}Time to make it official</Text>\n        \n        <View style={styles.pricingCard}>\n          <Text style={styles.packageTitle}>AI Yeti Video Message</Text>\n          <Text style={styles.price}>$9.99</Text>\n          <View style={styles.features}>\n            <Text style={styles.feature}>• Personalized video message from the Yeti</Text>\n            <Text style={styles.feature}>• Your choice of Yeti personality</Text>\n            <Text style={styles.feature}>• Custom message delivery</Text>\n            <Text style={styles.feature}>• Delivered within 24 hours</Text>\n          </View>\n        </View>\n\n        {error && (\n          <Text style={styles.errorText}>{error}</Text>\n        )}\n      </View>\n\n      <View style={sharedStyles.navigation}>\n        <Pressable \n          style={sharedStyles.backButton}\n          onPress={previousQuestion}\n        >\n          <Text style={sharedStyles.backButtonText}>← Back</Text>\n        </Pressable>\n        <Pressable \n          style={[\n            sharedStyles.nextButton,\n            loading && styles.loadingButton\n          ]}\n          onPress={handleCheckout}\n          disabled={loading}\n        >\n          <Text style={sharedStyles.nextButtonText}>\n            {loading ? 'Processing...' : 'Pay Now →'}\n          </Text>\n        </Pressable>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  pricingCard: {\n    width: '100%',\n    padding: 32,\n    backgroundColor: 'white',\n    borderRadius: 16,\n    borderWidth: 2,\n    borderColor: '#3182CE',\n    alignItems: 'center',\n    marginTop: 20,\n  },\n  packageTitle: {\n    fontSize: 24,\n    fontWeight: '600',\n    color: '#2D3748',\n    marginBottom: 16,\n    fontFamily: 'Cal Sans',\n  },\n  price: {\n    fontSize: 48,\n    fontWeight: '700',\n    color: '#3182CE',\n    marginBottom: 24,\n    fontFamily: 'Cal Sans',\n  },\n  features: {\n    width: '100%',\n    gap: 12,\n  },\n  feature: {\n    fontSize: 18,\n    color: '#4A5568',\n    fontFamily: 'Cal Sans',\n  },\n  loadingButton: {\n    opacity: 0.7,\n    cursor: 'not-allowed',\n  },\n  errorText: {\n    color: '#E53E3E',\n    marginTop: 16,\n    fontSize: 16,\n    fontFamily: 'Cal Sans',\n  },\n});\n\nexport default StripeCheckout; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}