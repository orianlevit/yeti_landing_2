{"ast":null,"code":"import { io } from 'socket.io-client';\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:3001';\nclass SocketService {\n  constructor() {\n    this.socket = null;\n    this.listeners = new Map();\n  }\n  connect() {\n    if (!this.socket) {\n      this.socket = io(SOCKET_URL);\n      this.socket.on('action', payload => {\n        this.handleAction(payload);\n      });\n    }\n    return this.socket;\n  }\n  handleAction(payload) {\n    const {\n      type,\n      data\n    } = payload;\n    const listeners = this.listeners.get(type) || [];\n    listeners.forEach(callback => callback(data));\n  }\n  addActionListener(actionType, callback) {\n    if (!this.listeners.has(actionType)) {\n      this.listeners.set(actionType, []);\n    }\n    this.listeners.get(actionType).push(callback);\n  }\n  removeActionListener(actionType, callback) {\n    if (this.listeners.has(actionType)) {\n      const listeners = this.listeners.get(actionType);\n      const index = listeners.indexOf(callback);\n      if (index !== -1) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n  disconnect() {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n    }\n  }\n}\nexport const socketService = new SocketService();\nexport default socketService;","map":{"version":3,"names":["io","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","SocketService","constructor","socket","listeners","Map","connect","on","payload","handleAction","type","data","get","forEach","callback","addActionListener","actionType","has","set","push","removeActionListener","index","indexOf","splice","disconnect","socketService"],"sources":["/Users/orian/Documents/Development/yeti_landing/src/services/socket.js"],"sourcesContent":["import { io } from 'socket.io-client';\n\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:3001';\n\nclass SocketService {\n  constructor() {\n    this.socket = null;\n    this.listeners = new Map();\n  }\n\n  connect() {\n    if (!this.socket) {\n      this.socket = io(SOCKET_URL);\n      \n      this.socket.on('action', (payload) => {\n        this.handleAction(payload);\n      });\n    }\n    return this.socket;\n  }\n\n  handleAction(payload) {\n    const { type, data } = payload;\n    const listeners = this.listeners.get(type) || [];\n    listeners.forEach(callback => callback(data));\n  }\n\n  addActionListener(actionType, callback) {\n    if (!this.listeners.has(actionType)) {\n      this.listeners.set(actionType, []);\n    }\n    this.listeners.get(actionType).push(callback);\n  }\n\n  removeActionListener(actionType, callback) {\n    if (this.listeners.has(actionType)) {\n      const listeners = this.listeners.get(actionType);\n      const index = listeners.indexOf(callback);\n      if (index !== -1) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n\n  disconnect() {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n    }\n  }\n}\n\nexport const socketService = new SocketService();\nexport default socketService; "],"mappings":"AAAA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB;AAE9E,MAAMC,aAAa,CAAC;EAClBC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,SAAS,GAAG,IAAIC,GAAG,CAAC,CAAC;EAC5B;EAEAC,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC,IAAI,CAACH,MAAM,EAAE;MAChB,IAAI,CAACA,MAAM,GAAGP,EAAE,CAACC,UAAU,CAAC;MAE5B,IAAI,CAACM,MAAM,CAACI,EAAE,CAAC,QAAQ,EAAGC,OAAO,IAAK;QACpC,IAAI,CAACC,YAAY,CAACD,OAAO,CAAC;MAC5B,CAAC,CAAC;IACJ;IACA,OAAO,IAAI,CAACL,MAAM;EACpB;EAEAM,YAAYA,CAACD,OAAO,EAAE;IACpB,MAAM;MAAEE,IAAI;MAAEC;IAAK,CAAC,GAAGH,OAAO;IAC9B,MAAMJ,SAAS,GAAG,IAAI,CAACA,SAAS,CAACQ,GAAG,CAACF,IAAI,CAAC,IAAI,EAAE;IAChDN,SAAS,CAACS,OAAO,CAACC,QAAQ,IAAIA,QAAQ,CAACH,IAAI,CAAC,CAAC;EAC/C;EAEAI,iBAAiBA,CAACC,UAAU,EAAEF,QAAQ,EAAE;IACtC,IAAI,CAAC,IAAI,CAACV,SAAS,CAACa,GAAG,CAACD,UAAU,CAAC,EAAE;MACnC,IAAI,CAACZ,SAAS,CAACc,GAAG,CAACF,UAAU,EAAE,EAAE,CAAC;IACpC;IACA,IAAI,CAACZ,SAAS,CAACQ,GAAG,CAACI,UAAU,CAAC,CAACG,IAAI,CAACL,QAAQ,CAAC;EAC/C;EAEAM,oBAAoBA,CAACJ,UAAU,EAAEF,QAAQ,EAAE;IACzC,IAAI,IAAI,CAACV,SAAS,CAACa,GAAG,CAACD,UAAU,CAAC,EAAE;MAClC,MAAMZ,SAAS,GAAG,IAAI,CAACA,SAAS,CAACQ,GAAG,CAACI,UAAU,CAAC;MAChD,MAAMK,KAAK,GAAGjB,SAAS,CAACkB,OAAO,CAACR,QAAQ,CAAC;MACzC,IAAIO,KAAK,KAAK,CAAC,CAAC,EAAE;QAChBjB,SAAS,CAACmB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MAC5B;IACF;EACF;EAEAG,UAAUA,CAAA,EAAG;IACX,IAAI,IAAI,CAACrB,MAAM,EAAE;MACf,IAAI,CAACA,MAAM,CAACqB,UAAU,CAAC,CAAC;MACxB,IAAI,CAACrB,MAAM,GAAG,IAAI;IACpB;EACF;AACF;AAEA,OAAO,MAAMsB,aAAa,GAAG,IAAIxB,aAAa,CAAC,CAAC;AAChD,eAAewB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}